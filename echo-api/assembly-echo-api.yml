kind: DataPowerAssembly
apiVersion: api.ibm.com/v1
metadata:
  name: assembly-echo-api
  namespace: echo-api
  version: '1.0'
  tags: []
spec:
  x-ibm-configuration:
    assembly:
      execute:
        - map:
            version: 2.0.0
            title: map
            inputs:
              text:
                schema:
                  type: string
                variable: request.parameters.text
            outputs:
              response:
                schema:
                  $ref: '#/definitions/responseObject'
                variable: message.body
            actions:
              - set: response.text
                from: text
    gateway: datapower-api-gateway
    enforced: true
    testable: true
    phase: realized
    cors:
      enabled: true
    type: rest
    activity-log:
      enabled: true
      error-content: header
      success-content: activity
    application-authentication:
      certificate: false
